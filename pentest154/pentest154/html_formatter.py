css_styles = '''
<style>
body {
	font-family: sans-serif;
	background: #222222;
	color: #eaeaea;
	line-height: 1.5;
	padding: 15px;
}

.container {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 15px;
	width: 100%;
}

.wrapper {
	background: #282828;
	padding: 5px;
	margin: 5px;
}

a {
	color: #5555dd;
}

a:hover {
	color: #6666ff;
}

h1 {
	color: #227799;
}

h2 {
	color: coral;
}

p {
	margin: 5px;
}

.name {
	color: lightcoral;
	font-weight: bold;
}
</style>
'''


def convert_to_html(name: str, dictionary: dict, current_datetime: str):
	html_formatted = f'''
<html>
<head>
{css_styles}
<title>{name}</title>
</head>
<body>
<h1>P154 Репорт: {name}</h1>
<p>Дата: {current_datetime}</p>
<p>Репорт был составлен: <a href="https://github.com/alxvdev/pentest154">P154 Kit @ Pentest154</a></p>
<hr>
<div class='wrapper'>
<div class='container'>
	'''

	for key, value in dictionary.items():
		html_formatted += f'<h2> > {key}</h2>\n'
		for el in value.strip().split('\n'):
			name = el.split('=')[0]
			desc = ' '.join(el.split('=')[1:]).strip()

			if desc == '':
				continue

			html_formatted += f'<p><span class="name">{name}:</span> {desc}</p>'

	html_formatted += '</div></div><br><hr><b>Pentest154 Kit (C) Alexeev Bronislav 2024, все права сохранены.</b><br>'
	html_formatted += '<i>Вся информация, представленная здесь приводится исключительно в ознакомительных целях или целях проведения официального подтвержденного тестирования на проникновение. Перед использованием приведенной информации настоятельно рекомендуется со статьей 272 УК РФ.</i>'

	html_formatted += '</body></html>'

	return html_formatted
